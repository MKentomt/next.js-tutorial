## ✅ サーバーコンポーネントとクライアントコンポーネントの違い

Next.js（App Router）では、コンポーネントを **「サーバーで動かす」か「ブラウザで動かす」か** を明確に分けて考える仕組みがあります。  
これを「**サーバーコンポーネント**」と「**クライアントコンポーネント**」と呼びます。

この違いを理解することで、**どの処理をどこに書くべきか**がわかるようになり、アプリ開発の基礎力が身につきます。

---

### 🧩 サーバーとクライアントのざっくりイメージ

| 用語 | 実行される場所 | 例えるなら… |
|------|----------------|--------------|
| サーバーコンポーネント | サーバー（＝Node.js） | 厨房で料理を作る |
| クライアントコンポーネント | ブラウザ（＝ユーザーのPC/スマホ） | お客さんのテーブル上で調味料を足す |

---

### 🏗 ディレクトリ構成の例

\`\`\`bash
app/
├── page.tsx           # サーバーコンポーネント（デフォルト）
└── components/
    └── LikeButton.tsx # クライアントコンポーネント（use client が必要）
\`\`\`

---

## 🖥 サーバーコンポーネントとは？

### ✅ 特徴

- \`use client\` を書かない = **デフォルトはサーバーで動く**
- ブラウザではなく、**Next.jsのサーバー上で実行される**
- 画面表示のための「初期データの取得」や「HTMLの生成」に向いている
- \`useState\`, \`useEffect\`, \`onClick\` などの**インタラクション処理は使えない**

### ⛔ 使用できないもの

- 状態を持つ（\`useState\`）
- 副作用処理（\`useEffect\`）
- ボタンクリック（\`onClick\`）

### 💡 実例：今日の日付を表示する

\`\`\`tsx
// app/page.tsx（サーバーコンポーネント）
export default function Page() {
  const today = new Date().toLocaleDateString();

  return (
    <div>
      <h1>こんにちは！</h1>
      <p>今日は {today} です。</p>
    </div>
  );
}
\`\`\`

---

## 🖱 クライアントコンポーネントとは？

### ✅ 特徴

- \`use client\` をファイルの一番上に書くと、**クライアント（ブラウザ）で動く**
- \`useState\`, \`useEffect\`, \`onClick\` などの**動的な処理が使える**
- 状態やユーザー操作を扱うコンポーネントに適している

### 💡 実例：ボタンクリックでカウントアップ

\`\`\`tsx
// components/LikeButton.tsx（クライアントコンポーネント）
'use client';

import { useState } from 'react';

export function LikeButton() {
  const [count, setCount] = useState(0);

  return (
    <button onClick={() => setCount(count + 1)}>
      👍 {count}
    </button>
  );
}
\`\`\`

---

### 🔗 サーバー → クライアントへデータを渡す流れ

\`\`\`tsx
// app/page.tsx（サーバーコンポーネント）
import { LikeButton } from '@/components/LikeButton';

export default function Page() {
  const message = '今日もがんばりましょう！';

  return (
    <div>
      <p>{message}</p>
      <LikeButton />
    </div>
  );
}
\`\`\`

---

## 📌 よくあるミスとアドバイス

| ミス例 | なぜダメ？ | 解決方法 |
|--------|------------|----------|
| \`useState\` を \`page.tsx\` に書いて動かない | サーバーコンポーネントでは使えない | \`use client\` を使って別ファイルに切り出す |
| ボタンクリックが反応しない | クライアントで動いてない | \`use client\` を最初に書いたか確認する |
| サーバーからクライアントにデータが渡らない | propsで明示的に渡す必要がある | \`props\` を通して受け渡すようにする |

---

### ✅ まとめ

| 比較項目 | サーバーコンポーネント | クライアントコンポーネント |
|----------|------------------|----------------------|
| 実行場所 | サーバー（Node.js） | ブラウザ（ユーザー側） |
| \`use client\` | 不要（デフォルト） | 必要（明示する） |
| 状態管理（useState） | ❌ 使えない | ✅ 使える |
| イベント処理（onClick） | ❌ 使えない | ✅ 使える |
| 適した用途 | データ取得・表示 | ユーザー操作・動的な動き |
| バンドルサイズ | 小さい（軽量） | 大きくなりがち（注意） |
